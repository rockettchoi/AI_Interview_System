<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI ëª¨ì˜ë©´ì ‘ ì‹œìŠ¤í…œ</title>
    <link rel="stylesheet" href="{{ request.url_for('static', path='css/style.css') }}">
    
    <!-- CodeMirror for Web IDE -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/monokai.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/python/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/edit/closebrackets.min.js"></script>
    <style>
        .CodeMirror { height: 300px; border-radius: 4px; font-size: 14px; }
        .tabs { margin-bottom: 15px; border-bottom: 1px solid #ddd; }
        .tab-btn { background: none; border: none; padding: 10px 20px; cursor: pointer; font-size: 16px; opacity: 0.6; }
        .tab-btn.active { border-bottom: 2px solid #007bff; color: #007bff; font-weight: bold; opacity: 1; }
        .editor-controls { margin-bottom: 10px; display: flex; gap: 10px; align-items: center; }
        .console-output { margin-top: 10px; background: #f5f5f5; padding: 10px; border-radius: 4px; border: 1px solid #ddd; }
        .console-output pre { white-space: pre-wrap; margin: 0; color: #333; font-family: monospace; }
        #code-editor { border: 1px solid #ddd; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ¯ AI ëª¨ì˜ë©´ì ‘ ì‹œìŠ¤í…œ</h1>
            <p class="subtitle">AIì™€ í•¨ê»˜í•˜ëŠ” ì‹¤ì „ ë©´ì ‘ ì—°ìŠµ</p>
        </header>

        <div id="start-section" class="section">
            <div class="card">
                <h2>ë©´ì ‘ ì‹œì‘í•˜ê¸°</h2>
                <form id="interview-form">
                    <div class="form-group">
                        <label for="position">ì§€ì› ì§ë¬´:</label>
                        <select id="position" name="position" required>
                            <option value="Software Engineer">ì†Œí”„íŠ¸ì›¨ì–´ ì—”ì§€ë‹ˆì–´</option>
                            <option value="Frontend Developer">í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì</option>
                            <option value="Backend Developer">ë°±ì—”ë“œ ê°œë°œì</option>
                            <option value="Full Stack Developer">í’€ìŠ¤íƒ ê°œë°œì</option>
                            <option value="Data Scientist">ë°ì´í„° ì‚¬ì´ì–¸í‹°ìŠ¤íŠ¸</option>
                            <option value="DevOps Engineer">DevOps ì—”ì§€ë‹ˆì–´</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="level">ê²½ë ¥ ìˆ˜ì¤€:</label>
                        <select id="level" name="level" required>
                            <option value="Junior">ì£¼ë‹ˆì–´ (0-2ë…„)</option>
                            <option value="Mid-level">ì¤‘ê¸‰ (3-5ë…„)</option>
                            <option value="Senior">ì‹œë‹ˆì–´ (5ë…„+)</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary">ë©´ì ‘ ì‹œì‘</button>
                </form>
            </div>
        </div>

        <div id="interview-section" class="section" style="display: none;">
            <div class="card">
                <div class="question-header">
                    <span class="question-number">ì§ˆë¬¸ <span id="question-num">1</span>/5</span>
                </div>
                <div class="question-box">
                    <h3>ì§ˆë¬¸:</h3>
                    <p id="question-text"></p>
                </div>
                
                <div class="answer-box">
                    <div class="tabs">
                        <button type="button" class="tab-btn active" onclick="switchTab('text')">ğŸ“ ì„œìˆ í˜• ë‹µë³€</button>
                        <button type="button" class="tab-btn" onclick="switchTab('code')">ğŸ’» ì½”ë“œ ì‘ì„± (IDE)</button>
                    </div>

                    <div id="text-answer-section">
                        <label for="answer">ë‹µë³€:</label>
                        <textarea id="answer" rows="8" placeholder="ì—¬ê¸°ì— ë‹µë³€ì„ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
                    </div>

                    <div id="code-answer-section" style="display: none;">
                        <div class="editor-controls">
                            <select id="language-select" class="form-control" style="width: auto; display: inline-block; padding: 5px;">
                                <option value="python">Python</option>
                                <option value="javascript">JavaScript</option>
                            </select>
                            <button type="button" id="run-code-btn" class="btn btn-secondary" style="padding: 5px 15px;">â–¶ ì½”ë“œ ì‹¤í–‰</button>
                        </div>
                        <div id="code-editor"></div>
                        <div class="console-output">
                            <label><strong>ì‹¤í–‰ ê²°ê³¼:</strong></label>
                            <pre id="code-output" style="min-height: 50px;">ì‹¤í–‰ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤...</pre>
                        </div>
                    </div>
                </div>

                <div style="margin-top: 20px;">
                    <button id="submit-answer" class="btn btn-primary">ë‹µë³€ ì œì¶œ</button>
                </div>
                <div id="loading" style="display: none;">
                    <p>AIê°€ ë‹µë³€ì„ í‰ê°€í•˜ê³  ìˆìŠµë‹ˆë‹¤...</p>
                </div>
            </div>

            <div id="feedback-section" style="display: none;">
                <div class="card feedback-card">
                    <h3>í”¼ë“œë°±:</h3>
                    <div id="feedback-text"></div>
                    <button id="next-question" class="btn btn-primary">ë‹¤ìŒ ì§ˆë¬¸</button>
                    <button id="view-results" class="btn btn-secondary" style="display: none;">ê²°ê³¼ ë³´ê¸°</button>
                </div>
            </div>
        </div>
    </div>

    <script src="{{ request.url_for('static', path='js/main.js') }}?v={{ range(1, 10000) | random }}"></script>
</body>
</html>
